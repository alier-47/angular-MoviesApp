
<div class = "!loading">

<h1>Create Movie</h1>

<form [formGroup]="movieForm" (ngSubmit) = "createMovie()">

    <div class="mb-3">
        <label for="title" class="form-label">Title</label>
        <input type="text" name="title" formControlName="title" class="form-control">
        {{ movieForm.value.title}}
        <div class="alert alert-danger mt-2" *ngIf="title.touched && title.invalid">
            <p *ngIf="title.errors.required">Gerekli Alan</p>
            <p *ngIf="title.errors.minlength">Minimum 5 karakter giriniz</p>
        </div>
    </div>

    <div class="mb-3">
        <label for="description" class="form-label">Description</label>
        <textarea name="description" formControlName="description" class = "form-control"></textarea>
        
    </div>

    <div class="mb-3">
        <label for="imageUrl" class="form-label">imageUrl</label>
        <input type="text" formControlName="imageUrl" name="imageUrl"class="form-control">
        <div class="alert alert-danger mt-2" *ngIf="imageUrl.touched && imageUrl.invalid">
            <p *ngIf="imageUrl.errors.required">Gerekli Alan</p>
            <p *ngIf="imageUrl.errors.wrongExtension">Fotoğraf formatı jpg, jpeg veya png olmalı</p>
        </div>
      
    </div>

    <div class="mb-3">
        <label for="categoryId" class="form-label">Category</label>
        <select name="categoryId" formControlName="categoryId" class="form-select" >
            <option value="">-- Seçiniz --</option>
            <option *ngFor="let item of categories" [value] = "item.id">{{item.name}}</option>
        </select>
       
    </div>

    <button type="submit" [disabled] = "movieForm.invalid" class="btn btn-primary"> Create </button>
    <button (click)="clearForm()" type="button" class="btn btn-warning"> Clear </button>
    
</form>
</div>
<div class="row text-center">
    <div class="col-md-12">
        <div *ngIf="loading" class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
</div>